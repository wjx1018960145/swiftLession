(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee0dc288"],{"1cf5":function(e,t,o){var r=o("a778");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=o("499e").default;a("4833be44",r,!0,{sourceMap:!1,shadowMode:!1})},9417:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"layout__page"},[o("div",{staticClass:"layout__header"},[o("van-nav-bar",{attrs:{title:e.isEdit?"编辑任务集":"新建任务集","right-text":e.isEdit?"删除":"","left-arrow":""},on:{"click-left":e.handleClickLeft,"click-right":e.confirmDeleteNotebook}})],1),o("div",{directives:[{name:"touch",rawName:"v-touch:swipe",value:e.handleSwipeRight,expression:"handleSwipeRight",arg:"swipe"}],staticClass:"layout__body"},[o("van-cell-group",{staticClass:"notebook__create-form"},[o("van-field",{attrs:{label:"任务集名称",placeholder:"请输入任务集名称",maxlength:"15",required:""},model:{value:e.formModel.name,callback:function(t){e.$set(e.formModel,"name",t)},expression:"formModel.name"}}),o("van-cell",{attrs:{title:"任务集主题色",value:e.themeColorText,"is-link":""},on:{click:function(t){return e.setSelectThemeColorShow(!0)}}})],1),o("div",{staticClass:"bottom-button--submit",attrs:{id:"fixed-bottom"}},[o("van-button",{attrs:{type:"primary",size:"large"},on:{click:e.handleCreateNotebook}},[e._v("提交")])],1)],1),o("van-popup",{attrs:{position:"bottom"},model:{value:e.selectThemeColorShow,callback:function(t){e.selectThemeColorShow=t},expression:"selectThemeColorShow"}},[o("van-picker",{attrs:{"show-toolbar":"",title:"选择主题色",columns:e.THEME_COLOR_ARRAY},on:{cancel:function(t){return e.setSelectThemeColorShow(!1)},confirm:e.handleSelectThemeColor}})],1)],1)},a=[],n=(o("7f7f"),o("96cf"),o("3b8d")),i=(o("47e2"),o("2241")),s=o("d225"),c=o("b0b4"),l=o("308d"),u=o("6bb5"),h=o("4e2b"),d=(o("da02"),o("6b41")),b=(o("c625"),o("b650")),m=(o("9eda"),o("565f")),f=(o("2a53"),o("34e9")),v=(o("3ec1"),o("7744")),p=(o("87d0"),o("e41f")),k=(o("3cd0"),o("f8c2"),o("f253")),w=o("9ab4"),g=o("60a3"),C=o("75fb"),y=o("db18"),x=o("5339"),_=o("2255"),N={green:"绿色",blue:"蓝色",yellow:"黄色",red:"红色"},O=Object(_["g"])(N);g["d"].use(d["a"]).use(b["a"]).use(m["a"]).use(f["a"]).use(v["a"]).use(p["a"]).use(k["a"]);var S=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.THEME_COLOR_ARRAY=O,e.selectThemeColorShow=!1,e.formModel={name:"",themeColor:"green",notes:[]},e.rules={name:[{required:!0,message:"请填写任务集名称"}]},e}return Object(h["a"])(t,e),Object(c["a"])(t,[{key:"handleClickLeft",value:function(){this.$router.go(-1)}},{key:"setSelectThemeColorShow",value:function(e){this.selectThemeColorShow=e}},{key:"handleSelectThemeColor",value:function(e){this.setSelectThemeColorShow(!1),this.formModel.themeColor=e.value}},{key:"confirmDeleteNotebook",value:function(){var e=this;i["a"].alert({title:"删除确认",message:"是否删除该任务集?"}).then((function(){e.handleDeleteNotebook(e.id)}))}},{key:"handleDeleteNotebook",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x["c"].deleteNotebook(t);case 3:this.$bus.emit("notebook-change"),this.$router.go(-1),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),window.$sentry.log({error:e.t0,fileName:"/var/jenkins_home/workspace/mobile-web-best-practice/src/views/notebook/create/index.vue",lineNo:60,scope:"NotebookCreate -> value -> _handleDeleteNotebook"}),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleCreateNotebook",value:function(){var e=this;this.validator.validate().then(Object(n["a"])(regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,o=e.formModel,r=e.id,t.next=4,x["c"].saveNotebook(o,r);case 4:e.$bus.emit("notebook-change"),e.$router.go(-1),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),window.$sentry.log({error:t.t0,fileName:"/var/jenkins_home/workspace/mobile-web-best-practice/src/views/notebook/create/index.vue",lineNo:73,scope:"NotebookCreate -> value"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).catch((function(t){e.$toast(t[0].message)}))}},{key:"created",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isEdit){e.next=12;break}return e.prev=1,e.next=4,x["c"].getNotebook(this.id);case 4:t=e.sent,t&&(this.formModel={name:t.name,themeColor:t.themeColor,notes:t.notes}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),window.$sentry.log({error:e.t0,fileName:"/var/jenkins_home/workspace/mobile-web-best-practice/src/views/notebook/create/index.vue",lineNo:89,scope:"NotebookCreate -> value -> _created"}),console.log(e.t0);case 12:this.validator=new C["a"]({rules:this.rules,data:this.formModel});case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"id",get:function(){if("string"===typeof this.$route.query.id)return parseInt(this.$route.query.id,10)}},{key:"isEdit",get:function(){return!!this.id}},{key:"themeColorText",get:function(){return N[this.formModel.themeColor]}}]),t}(Object(g["b"])(y["a"]));S=Object(w["b"])([Object(g["a"])({components:{}})],S);var j=S,T=j,R=(o("c382"),o("2877")),M=Object(R["a"])(T,r,a,!1,null,"4d0db526",null);t["default"]=M.exports},a778:function(e,t,o){t=e.exports=o("2350")(!1),t.push([e.i,".notebook__create-form[data-v-4d0db526]{margin-top:5.333vw}",""])},c382:function(e,t,o){"use strict";var r=o("1cf5"),a=o.n(r);a.a}}]);
//# sourceMappingURL=chunk-ee0dc288.2ed308bb.js.map